public class Solution {
    public bool IsValidSudoku(char[][] board) {
		// checking the validity of rows and columns
		for(int i=0; i<9; i++) {
			var set1 = new HashSet<char>();
			var set2 = new HashSet<char>();
			for(int j=0; j<9; j++) {
                if(board[i][j] != '.') {
                    if(!set1.Contains(board[i][j])) set1.Add(board[i][j]);
				    else return false;   
                }
                if(board[j][i] != '.') {
                    if(!set2.Contains(board[j][i])) set2.Add(board[j][i]);
                    else return false;
                }
			}
		}
		
		for (int k = 0; k < 9; k++) {
			var set3 = new HashSet<char>();
			for (int i = k/3*3; i < k/3*3 + 3 ;i ++) {
				for (int j = k%3*3; j < k%3*3 + 3; j ++) {
					if (board[i][j] != '.') {
						if (set3.Contains(board[i][j])) {
							return false;
						} else {
							set3.Add(board[i][j]);
						}
					}
				}   
			}
		}
			
        return true;
    }
}